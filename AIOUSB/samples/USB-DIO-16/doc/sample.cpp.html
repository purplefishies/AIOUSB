<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>sample.cpp</title>
<style type="text/css"><!--

.syntax-NULL {
  color: #000000;
}
.syntax-COMMENT1 {
  color: #cc0000;
}
.syntax-COMMENT2 {
  color: #ff8400;
}
.syntax-COMMENT3 {
  color: #6600cc;
}
.syntax-COMMENT4 {
  color: #cc6600;
}
.syntax-DIGIT {
  color: #ff0000;
}
.syntax-FUNCTION {
  color: #0033ff;
  font-weight: bold;
}
.syntax-INVALID {
  background: #ffffcc;
  color: #ff0066;
}
.syntax-KEYWORD1 {
  color: #006699;
  font-weight: bold;
}
.syntax-KEYWORD2 {
  color: #009966;
  font-weight: bold;
}
.syntax-KEYWORD3 {
  color: #0099ff;
  font-weight: bold;
}
.syntax-KEYWORD4 {
  color: #66ccff;
  font-weight: bold;
}
.syntax-LABEL {
  color: #02b902;
}
.syntax-LITERAL1 {
  color: #ff00cc;
}
.syntax-LITERAL2 {
  color: #cc00cc;
}
.syntax-LITERAL3 {
  color: #9900cc;
}
.syntax-LITERAL4 {
  color: #6600cc;
}
.syntax-MARKUP {
  color: #0000ff;
}
.syntax-OPERATOR {
  color: #000000;
  font-weight: bold;
}

.gutter {
  background: #dbdbdb;
  color: #000000;
  border-right: 2px solid black ;
  margin-right: 5px ;
}
.gutterH {
  background: #dbdbdb;
  color: #990066;
  border-right: 2px solid black ; 
  margin-right: 5px ;
}

--></style>
</head>
<body bgcolor="#ffffff">
<pre><span class="syntax0"><span class="gutter">   1 </span><span class="syntax-COMMENT1">/*</span>
<span class="gutter">   2 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$RCSfile:</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample.cpp,v</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$</span>
<span class="gutter">   3 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$Revision:</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">1.9</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$</span>
<span class="gutter">   4 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$Date:</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">2010/01/29</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">18:32:46</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$</span>
<span class="gutterH">   5 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">jEdit:tabSize=4:indentSize=4:collapseFolds=1:</span>
<span class="gutter">   6 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">   7 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">AIOUSB</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">library</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">program</span>
<span class="gutter">   8 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">   9 </span>
<span class="gutterH">  10 </span>
<span class="gutter">  11 </span><span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">{{{</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">notes</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">build</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">instructions</span>
<span class="gutter">  12 </span><span class="syntax-COMMENT1">/*</span>
<span class="gutter">  13 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">This</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">source</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">code</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">looks</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">best</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">with</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">tab</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">width</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">4.</span>
<span class="gutter">  14 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutterH">  15 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">All</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">functions</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">that</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">DO</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">NOT</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">begin</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&quot;AIOUSB_&quot;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">are</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">standard</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">functions,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">largely</span>
<span class="gutter">  16 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">documented</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">in</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">http://accesio.com/MANUALS/USB%20Software%20Reference.pdf.</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">The</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">functions</span>
<span class="gutter">  17 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">that</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">DO</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">begin</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">with</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&quot;AIOUSB_&quot;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">are</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&quot;extended&quot;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">functions</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">added</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Linux</span>
<span class="gutter">  18 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">implementation.</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Source</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">code</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">lines</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">in</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">this</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">program</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">that</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">are</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">prefixed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">with</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span>
<span class="gutter">  19 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">comment</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&quot;/</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">/&quot;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">highlight</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">calls</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">AIOUSB</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">API.</span>
<span class="gutterH">  20 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">  21 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">LIBUSB</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">(http://www.libusb.org/)</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">must</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">installed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">on</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Linux</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">box</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">(the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">AIOUSB</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">code</span>
<span class="gutter">  22 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">was</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">developed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">using</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">libusb</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">version</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">1.0.3).</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">After</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">installing</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">libusb,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">it</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">may</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">also</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span>
<span class="gutter">  23 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">necessary</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">set</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">an</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">environment</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">variable</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">so</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">that</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">libusb</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">aiousb</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">header</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">files</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">can</span>
<span class="gutter">  24 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">located:</span>
<span class="gutterH">  25 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">  26 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">export</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">CPATH=/usr/local/include/libusb-1.0/:/usr/local/include/aiousb/</span>
<span class="gutter">  27 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">  28 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Once</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">libusb</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">installed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">properly,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">it</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">should</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">possible</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">compile</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">program</span>
<span class="gutter">  29 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">using</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">simple</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">command:</span>
<span class="gutterH">  30 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">  31 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">make</span>
<span class="gutter">  32 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">  33 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Alternatively,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">one</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">can</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&quot;manually&quot;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">compile</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">program</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">using</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">command:</span>
<span class="gutter">  34 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutterH">  35 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">g++</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample.cpp</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-laiousb</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-lusb-1.0</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-o</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample</span>
<span class="gutter">  36 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">  37 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">or,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">enable</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">debug</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">features</span>
<span class="gutter">  38 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">  39 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">g++</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-ggdb</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample.cpp</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-laiousbdbg</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-lusb-1.0</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-o</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample</span>
<span class="gutterH">  40 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">  41 </span><span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}}}</span>
<span class="gutter">  42 </span>
<span class="gutter">  43 </span><span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">{{{</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">includes</span>
<span class="gutter">  44 </span><span class="syntax-KEYWORD2">#</span><span class="syntax-MARKUP">include</span> <span class="syntax-LITERAL1">&lt;</span><span class="syntax-LITERAL1">aiousb.h</span><span class="syntax-LITERAL1">&gt;</span>
<span class="gutterH">  45 </span><span class="syntax-KEYWORD2">#</span><span class="syntax-MARKUP">include</span> <span class="syntax-LITERAL1">&lt;</span><span class="syntax-LITERAL1">stdio.h</span><span class="syntax-LITERAL1">&gt;</span>
<span class="gutter">  46 </span><span class="syntax-KEYWORD2">#</span><span class="syntax-MARKUP">include</span> <span class="syntax-LITERAL1">&lt;</span><span class="syntax-LITERAL1">string.h</span><span class="syntax-LITERAL1">&gt;</span>
<span class="gutter">  47 </span><span class="syntax-KEYWORD2">#</span><span class="syntax-MARKUP">include</span> <span class="syntax-LITERAL1">&lt;</span><span class="syntax-LITERAL1">unistd.h</span><span class="syntax-LITERAL1">&gt;</span>
<span class="gutter">  48 </span><span class="syntax-KEYWORD2">using</span> <span class="syntax-KEYWORD2">namespace</span> AIOUSB<span class="syntax-OPERATOR">;</span>
<span class="gutter">  49 </span><span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}}}</span>
<span class="gutterH">  50 </span>
<span class="gutter">  51 </span><span class="syntax-KEYWORD3">int</span> <span class="syntax-FUNCTION">main</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">int</span> argc<span class="syntax-OPERATOR">,</span> <span class="syntax-KEYWORD3">char</span> <span class="syntax-OPERATOR">*</span><span class="syntax-OPERATOR">*</span>argv <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  52 </span>    <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span>
<span class="gutter">  53 </span>        <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">USB-DIO-16A</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">sample</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">program</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">version</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">1.9,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">29</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">January</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">2010\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  54 </span>        <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">AIOUSB</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">library</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">version</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%s,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%s\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutterH">  55 </span>        <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">This</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">program</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">demonstrates</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">high</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">speed</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">streaming</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">between</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">2</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">USB-DIO-16A\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  56 </span>        <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">devices</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">on</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">the</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">same</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">USB</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">bus.</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">For</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">simplicity,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">it</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">uses</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">the</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">first</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">2</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">such\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  57 </span>        <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">devices</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">found</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">on</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">the</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">bus.\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  58 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span> <span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetVersion</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetVersionDate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">  59 </span>    <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH">  60 </span>
<span class="gutter">  61 </span>    <span class="syntax-COMMENT1">/*</span>
<span class="gutter">  62 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">MUST</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">call</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">AIOUSB_Init()</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">before</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">any</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">meaningful</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">AIOUSB</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">functions;</span>
<span class="gutter">  63 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">AIOUSB_GetVersion()</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">above</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">an</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">exception</span>
<span class="gutter">  64 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutterH">  65 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span> <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">long</span> result <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">AIOUSB_Init</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter">  66 </span>    <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> AIOUSB_SUCCESS <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  67 </span>        <span class="syntax-COMMENT1">/*</span>
<span class="gutter">  68 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">call</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">GetDevices()</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">obtain</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&quot;list&quot;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">devices</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">found</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">on</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">bus</span>
<span class="gutter">  69 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutterH">  70 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span> <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">long</span> deviceMask <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">GetDevices</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter">  71 </span>        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> deviceMask <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  72 </span>            <span class="syntax-COMMENT1">/*</span>
<span class="gutter">  73 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">at</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">least</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">one</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">ACCES</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">device</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">detected,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">but</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">we</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">want</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">devices</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">specific</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">type</span>
<span class="gutter">  74 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutterH">  75 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>     <span class="syntax-FUNCTION">AIOUSB_ListDevices</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>               <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">print</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">list</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">all</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">devices</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">found</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">on</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">bus</span>
<span class="gutter">  76 </span>
<span class="gutter">  77 </span>            <span class="syntax-COMMENT1">/*</span>
<span class="gutter">  78 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">search</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">for</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">two</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">USB-DIO-16A</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">devices;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">first</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">one</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">will</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span>
<span class="gutter">  79 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sender</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">data,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">second</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">one</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">will</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span>
<span class="gutterH">  80 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">  81 </span>            __uint64_t serialNumber1 <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>        <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">serial</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">number</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sender</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">board</span>
<span class="gutter">  82 </span>                <span class="syntax-OPERATOR">,</span> serialNumber2 <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">;</span>            <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">serial</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">number</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">board</span>
<span class="gutter">  83 </span>            <span class="syntax-KEYWORD3">int</span> deviceIndex1 <span class="syntax-OPERATOR">=</span> <span class="syntax-OPERATOR">-</span><span class="syntax-DIGIT">1</span>
<span class="gutter">  84 </span>                <span class="syntax-OPERATOR">,</span> deviceIndex2 <span class="syntax-OPERATOR">=</span> <span class="syntax-OPERATOR">-</span><span class="syntax-DIGIT">1</span>
<span class="gutterH">  85 </span>                <span class="syntax-OPERATOR">,</span> index <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">;</span>
<span class="gutter">  86 </span>            <span class="syntax-KEYWORD1">while</span><span class="syntax-OPERATOR">(</span> deviceMask <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  87 </span>                <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> <span class="syntax-OPERATOR">(</span> deviceMask <span class="syntax-OPERATOR">&amp;</span> <span class="syntax-DIGIT">1</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  88 </span>                    <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">found</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">device,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">but</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">it</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">correct</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">type?</span>
<span class="gutter">  89 </span>                    <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">long</span> productID<span class="syntax-OPERATOR">;</span>
<span class="gutterH">  90 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             result <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">QueryDeviceInfo</span><span class="syntax-OPERATOR">(</span> index<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>productID<span class="syntax-OPERATOR">,</span> <span class="syntax-LITERAL2">NULL</span><span class="syntax-OPERATOR">,</span> <span class="syntax-LITERAL2">NULL</span><span class="syntax-OPERATOR">,</span> <span class="syntax-LITERAL2">NULL</span><span class="syntax-OPERATOR">,</span> <span class="syntax-LITERAL2">NULL</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter">  91 </span>                    <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> AIOUSB_SUCCESS <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  92 </span>                        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> productID <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> USB_DIO_16A <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  93 </span>                            <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">found</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">USB-DIO-16A</span>
<span class="gutter">  94 </span>                            <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> deviceIndex1 <span class="syntax-OPERATOR">&lt;</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">  95 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                         result <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">GetDeviceSerialNumber</span><span class="syntax-OPERATOR">(</span> index<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>serialNumber1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter">  96 </span>                                <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> AIOUSB_SUCCESS <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  97 </span>                                    deviceIndex1 <span class="syntax-OPERATOR">=</span> index<span class="syntax-OPERATOR">;</span>
<span class="gutter">  98 </span>                                    <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Sending</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">serial</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">number</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%llx\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  99 </span>                                        <span class="syntax-OPERATOR">,</span> deviceIndex1<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">long</span> <span class="syntax-KEYWORD3">long</span> <span class="syntax-OPERATOR">)</span> serialNumber1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 100 </span>                                <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 101 </span>                                    <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'%s'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">getting</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">serial</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">number</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">of</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 102 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                                 <span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetResultCodeAsString</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">,</span> index <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 103 </span>                                    <span class="syntax-KEYWORD1">break</span><span class="syntax-OPERATOR">;</span>      <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">from</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">while()</span>
<span class="gutter"> 104 </span>                                <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">result</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutterH"> 105 </span>                            <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> deviceIndex2 <span class="syntax-OPERATOR">&lt;</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 106 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                         result <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">GetDeviceSerialNumber</span><span class="syntax-OPERATOR">(</span> index<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>serialNumber2 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 107 </span>                                <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> AIOUSB_SUCCESS <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 108 </span>                                    <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> serialNumber2 <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> serialNumber1 <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 109 </span>                                        <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span>
<span class="gutterH"> 110 </span>                                            <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">and</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">have</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">the</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">same</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">serial</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">number</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">of</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%llx\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 111 </span>                                            <span class="syntax-OPERATOR">,</span> deviceIndex1<span class="syntax-OPERATOR">,</span> index<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">long</span> <span class="syntax-KEYWORD3">long</span> <span class="syntax-OPERATOR">)</span> serialNumber1
<span class="gutter"> 112 </span>                                        <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 113 </span>                                    <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 114 </span>                                        deviceIndex2 <span class="syntax-OPERATOR">=</span> index<span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 115 </span>                                        <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Receiving</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">serial</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">number</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%llx\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 116 </span>                                            <span class="syntax-OPERATOR">,</span> deviceIndex2<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">long</span> <span class="syntax-KEYWORD3">long</span> <span class="syntax-OPERATOR">)</span> serialNumber2 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 117 </span>                                    <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">serialNumber2</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 118 </span>                                    <span class="syntax-KEYWORD1">break</span><span class="syntax-OPERATOR">;</span>      <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">from</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">while()</span>
<span class="gutter"> 119 </span>                                <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 120 </span>                                    <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'%s'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">getting</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">serial</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">number</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">of</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 121 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                                 <span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetResultCodeAsString</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">,</span> index <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 122 </span>                                    <span class="syntax-KEYWORD1">break</span><span class="syntax-OPERATOR">;</span>      <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">from</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">while()</span>
<span class="gutter"> 123 </span>                                <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">result</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 124 </span>                            <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">else</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">deviceIndex2</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutterH"> 125 </span>                        <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">productID</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 126 </span>                    <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 127 </span>                        <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'%s'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">querying</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 128 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                     <span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetResultCodeAsString</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">,</span> index <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 129 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutterH"> 130 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">even</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">though</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">we</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">got</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">an</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">error</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">from</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">this</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">device,</span>
<span class="gutter"> 131 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">keep</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">searching</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">for</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">other</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">devices</span>
<span class="gutter"> 132 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 133 </span>                    <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">result</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 134 </span>                <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">deviceMask</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutterH"> 135 </span>                index<span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 136 </span>                deviceMask <span class="syntax-OPERATOR">&gt;</span><span class="syntax-OPERATOR">&gt;</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">1</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 137 </span>            <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">while(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">deviceMask</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 138 </span>
<span class="gutter"> 139 </span>            <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span>
<span class="gutterH"> 140 </span>                deviceIndex1 <span class="syntax-OPERATOR">&gt;</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>
<span class="gutter"> 141 </span>                <span class="syntax-OPERATOR">&amp;</span><span class="syntax-OPERATOR">&amp;</span> deviceIndex2 <span class="syntax-OPERATOR">&gt;</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>
<span class="gutter"> 142 </span>                <span class="syntax-OPERATOR">&amp;</span><span class="syntax-OPERATOR">&amp;</span> serialNumber1 <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>
<span class="gutter"> 143 </span>                <span class="syntax-OPERATOR">&amp;</span><span class="syntax-OPERATOR">&amp;</span> serialNumber2 <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>
<span class="gutter"> 144 </span>            <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 145 </span>                <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 146 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">allocate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">buffer</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">for</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">streaming</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">DIO</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">data</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">send</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span>
<span class="gutter"> 147 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 148 </span>                <span class="syntax-KEYWORD1">const</span> <span class="syntax-KEYWORD3">double</span> CLOCK_SPEED <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">1000000</span><span class="syntax-OPERATOR">;</span>             <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Hz</span>
<span class="gutter"> 149 </span>                <span class="syntax-KEYWORD1">const</span> <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">long</span> FRAME_POINTS <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">1024000</span><span class="syntax-OPERATOR">;</span>     <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">must</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">multiple</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">256</span>
<span class="gutterH"> 150 </span>                <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">short</span> <span class="syntax-OPERATOR">*</span><span class="syntax-KEYWORD1">const</span> frameData <span class="syntax-OPERATOR">=</span> <span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">short</span> <span class="syntax-OPERATOR">*</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-FUNCTION">malloc</span><span class="syntax-OPERATOR">(</span> FRAME_POINTS <span class="syntax-OPERATOR">*</span> <span class="syntax-KEYWORD1">sizeof</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">short</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 151 </span>                <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> frameData <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 152 </span>                    <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 153 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">fill</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">buffer</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">with</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">pattern</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">that</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">can</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">verify</span>
<span class="gutter"> 154 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutterH"> 155 </span>                    <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">long</span> point<span class="syntax-OPERATOR">;</span>
<span class="gutter"> 156 </span>                    <span class="syntax-KEYWORD1">for</span><span class="syntax-OPERATOR">(</span> point <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">;</span> point <span class="syntax-OPERATOR">&lt;</span> FRAME_POINTS<span class="syntax-OPERATOR">;</span> point<span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">+</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 157 </span>                        frameData<span class="syntax-OPERATOR">[</span> point <span class="syntax-OPERATOR">]</span> <span class="syntax-OPERATOR">=</span> point <span class="syntax-OPERATOR">&amp;</span> <span class="syntax-DIGIT">0xfffful</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 158 </span>
<span class="gutter"> 159 </span>                    <span class="syntax-COMMENT1">/*</span>
<span class="gutterH"> 160 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">fork</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">process,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">passing</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">it</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">serial</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">number</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span>
<span class="gutter"> 161 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">board</span>
<span class="gutter"> 162 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 163 </span>                    <span class="syntax-KEYWORD1">const</span> pid_t pid <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">fork</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 164 </span>                    <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> pid <span class="syntax-OPERATOR">&lt;</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 165 </span>                        <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">creating</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">receiver</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">process\n</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 166 </span>                    <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> pid <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 167 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 168 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">we</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">are</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">now</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">child</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">process,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">execute</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">program;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">its</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">command</span>
<span class="gutter"> 169 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">line</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">usage</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is:</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&lt;hex</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">serial</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">number&gt;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&lt;num.</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">points&gt;</span>
<span class="gutterH"> 170 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 171 </span>                        <span class="syntax-KEYWORD3">char</span> serialNumber<span class="syntax-OPERATOR">[</span> <span class="syntax-DIGIT">50</span> <span class="syntax-OPERATOR">]</span>
<span class="gutter"> 172 </span>                            <span class="syntax-OPERATOR">,</span> numPoints<span class="syntax-OPERATOR">[</span> <span class="syntax-DIGIT">20</span> <span class="syntax-OPERATOR">]</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 173 </span>                        <span class="syntax-FUNCTION">sprintf</span><span class="syntax-OPERATOR">(</span> serialNumber<span class="syntax-OPERATOR">,</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">%llx</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">long</span> <span class="syntax-KEYWORD3">long</span> <span class="syntax-OPERATOR">)</span> serialNumber2 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 174 </span>                        <span class="syntax-FUNCTION">sprintf</span><span class="syntax-OPERATOR">(</span> numPoints<span class="syntax-OPERATOR">,</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">%lu</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">,</span> FRAME_POINTS <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 175 </span>                        <span class="syntax-FUNCTION">execl</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">./receiver</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">,</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">receiver</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">,</span> serialNumber<span class="syntax-OPERATOR">,</span> numPoints<span class="syntax-OPERATOR">,</span> <span class="syntax-LITERAL2">NULL</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 176 </span>                    <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 177 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 178 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">process</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">successfully</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">created;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">proceed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">send</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">data;</span>
<span class="gutter"> 179 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">configure</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sending</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">device</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">send</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">streaming</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">DIO</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">data;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sender</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">will</span>
<span class="gutterH"> 180 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">control</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">clock;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">in</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">this</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sample</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">program,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sender</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span>
<span class="gutter"> 181 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">are</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">wired</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">together;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">therefore,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">their</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">I/O</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">ports</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">must</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">have</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">opposite</span>
<span class="gutter"> 182 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">direction;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">however,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">within</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">device,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">ports</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">C</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">always</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">have</span>
<span class="gutter"> 183 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">opposite</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">direction;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">so</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">we</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">must</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">configure</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">one</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">board</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">with</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">A,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">B</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">C</span>
<span class="gutter"> 184 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">as</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">outputs,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">port</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">as</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">input;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">then</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">we</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">must</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">configure</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">other</span>
<span class="gutterH"> 185 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">board</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">opposite,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">or</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">A,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">B</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">C</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">as</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">inputs,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">port</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">as</span>
<span class="gutter"> 186 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">output</span>
<span class="gutter"> 187 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 188 </span>                        <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">char</span> outputMask <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0x07</span><span class="syntax-OPERATOR">;</span>    <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sender:</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">port</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">input;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">C,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">B</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">A</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">are</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">output</span>
<span class="gutter"> 189 </span>                        <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">long</span> initialData <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0xffffffff</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 190 </span>                        <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">char</span> tristateMask <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0x00</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 191 </span>                        <span class="syntax-KEYWORD3">double</span> ReadClockHz
<span class="gutter"> 192 </span>                            <span class="syntax-OPERATOR">,</span> WriteClockHz<span class="syntax-OPERATOR">;</span>
<span class="gutter"> 193 </span>                        <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">long</span> transferred<span class="syntax-OPERATOR">;</span>
<span class="gutter"> 194 </span>
<span class="gutterH"> 195 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 196 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">set</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">up</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">communication</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">parameters</span>
<span class="gutter"> 197 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 198 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 <span class="syntax-FUNCTION">AIOUSB_SetCommTimeout</span><span class="syntax-OPERATOR">(</span> deviceIndex1<span class="syntax-OPERATOR">,</span> <span class="syntax-DIGIT">1000</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 199 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 <span class="syntax-FUNCTION">AIOUSB_SetStreamingBlockSize</span><span class="syntax-OPERATOR">(</span> deviceIndex1<span class="syntax-OPERATOR">,</span> <span class="syntax-DIGIT">256</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 200 </span>
<span class="gutter"> 201 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 202 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">start</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">clock;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sender</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">(us)</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">will</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">control</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">clock</span>
<span class="gutter"> 203 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 204 </span>                        ReadClockHz <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 205 </span>                        WriteClockHz <span class="syntax-OPERATOR">=</span> CLOCK_SPEED<span class="syntax-OPERATOR">;</span>
<span class="gutter"> 206 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 result <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">DIO_StreamSetClocks</span><span class="syntax-OPERATOR">(</span> deviceIndex1<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>ReadClockHz<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>WriteClockHz <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 207 </span>                        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> AIOUSB_SUCCESS <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 208 </span>                            <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Stream</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">clock</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">for</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">set</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">to</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%0.1f</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Hz\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 209 </span>                                <span class="syntax-OPERATOR">,</span> deviceIndex1<span class="syntax-OPERATOR">,</span> WriteClockHz <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 210 </span>                        <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 211 </span>                            <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'%s'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">setting</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">stream</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">clock</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">for</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 212 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                         <span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetResultCodeAsString</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">,</span> deviceIndex1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 213 </span>                            <span class="syntax-KEYWORD1">goto</span> abort<span class="syntax-OPERATOR">;</span>
<span class="gutter"> 214 </span>                        <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">result</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutterH"> 215 </span>
<span class="gutter"> 216 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 217 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">open</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">stream</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">for</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">writing</span>
<span class="gutter"> 218 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 219 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 result <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">DIO_StreamOpen</span><span class="syntax-OPERATOR">(</span> deviceIndex1<span class="syntax-OPERATOR">,</span> AIOUSB_FALSE <span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">open</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">for</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">writing</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 220 </span>                        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> AIOUSB_SUCCESS <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 221 </span>                            <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'%s'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">opening</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">write</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">stream</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">for</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 222 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                         <span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetResultCodeAsString</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">,</span> deviceIndex1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 223 </span>                            <span class="syntax-KEYWORD1">goto</span> abort<span class="syntax-OPERATOR">;</span>
<span class="gutter"> 224 </span>                        <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">result</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutterH"> 225 </span>
<span class="gutter"> 226 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 227 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">configure</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">I/O</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">ports</span>
<span class="gutter"> 228 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 229 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 result <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">DIO_ConfigureEx</span><span class="syntax-OPERATOR">(</span> deviceIndex1<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>outputMask<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>initialData<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>tristateMask <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 230 </span>                        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> AIOUSB_SUCCESS <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 231 </span>                            <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'%s'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">configuring</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 232 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                         <span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetResultCodeAsString</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">,</span> deviceIndex1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 233 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                     <span class="syntax-FUNCTION">DIO_StreamClose</span><span class="syntax-OPERATOR">(</span> deviceIndex1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 234 </span>                            <span class="syntax-KEYWORD1">goto</span> abort<span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 235 </span>                        <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">result</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 236 </span>
<span class="gutter"> 237 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 238 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">send</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">frame</span>
<span class="gutter"> 239 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutterH"> 240 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 result <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">DIO_StreamFrame</span><span class="syntax-OPERATOR">(</span> deviceIndex1<span class="syntax-OPERATOR">,</span> FRAME_POINTS<span class="syntax-OPERATOR">,</span> frameData<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>transferred <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 241 </span>                        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> AIOUSB_SUCCESS <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 242 </span>                            <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> transferred <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> FRAME_POINTS <span class="syntax-OPERATOR">*</span> <span class="syntax-KEYWORD1">sizeof</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">short</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 243 </span>                                <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">%lu</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">point</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">frame</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">successfully</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">written</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">to</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 244 </span>                                    <span class="syntax-OPERATOR">,</span> FRAME_POINTS<span class="syntax-OPERATOR">,</span> deviceIndex1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 245 </span>                            <span class="syntax-KEYWORD1">else</span>
<span class="gutter"> 246 </span>                                <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span>
<span class="gutter"> 247 </span>                                    <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">incorrect</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">amount</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">of</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">frame</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">data</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">written</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">to</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 248 </span>                                    <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">attempted</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">to</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">write</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%lu</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">bytes,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">but</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">actually</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">wrote</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%lu</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">bytes\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 249 </span>                                    <span class="syntax-OPERATOR">,</span> deviceIndex1
<span class="gutterH"> 250 </span>                                    <span class="syntax-OPERATOR">,</span> FRAME_POINTS <span class="syntax-OPERATOR">*</span> <span class="syntax-KEYWORD1">sizeof</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">unsigned</span> <span class="syntax-KEYWORD3">short</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 251 </span>                                    <span class="syntax-OPERATOR">,</span> transferred <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 252 </span>                        <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 253 </span>                            <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'%s'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">writing</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">frame</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">to</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">%d\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 254 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                         <span class="syntax-OPERATOR">,</span> <span class="syntax-FUNCTION">AIOUSB_GetResultCodeAsString</span><span class="syntax-OPERATOR">(</span> result <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">,</span> deviceIndex1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 255 </span>                            <span class="syntax-FUNCTION">AIOUSB_ClearFIFO</span><span class="syntax-OPERATOR">(</span> deviceIndex1<span class="syntax-OPERATOR">,</span> CLEAR_FIFO_METHOD_IMMEDIATE_AND_ABORT <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 256 </span>                        <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">result</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 257 </span>
<span class="gutter"> 258 </span>                        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 259 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">stop</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">write</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">clock</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">close</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">stream,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">but</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">after</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">giving</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">FIFO</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">time</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">empty</span>
<span class="gutterH"> 260 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">time</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">finish</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiving;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">after</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">call</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">DIO_StreamFrame()</span>
<span class="gutter"> 261 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">there</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">may</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">still</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">data</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">in</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sending</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">FIFO;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">an</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">alternative</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">simply</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">not</span>
<span class="gutter"> 262 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">turn</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">off</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">write</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">clock;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">required</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">delay</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">dependent</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">on</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">clock</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">rate;</span>
<span class="gutter"> 263 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">faster</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">clock,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">smaller</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">delay</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">required;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">unfortunately,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">there's</span>
<span class="gutter"> 264 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">no</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">handshaking</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">between</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">software</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">hardware</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">indicate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">when</span>
<span class="gutterH"> 265 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">transmission</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">finished</span>
<span class="gutter"> 266 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 267 </span>                        <span class="syntax-FUNCTION">sleep</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">2</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 268 </span>                        ReadClockHz <span class="syntax-OPERATOR">=</span> WriteClockHz <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 269 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 <span class="syntax-FUNCTION">DIO_StreamSetClocks</span><span class="syntax-OPERATOR">(</span> deviceIndex1<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>ReadClockHz<span class="syntax-OPERATOR">,</span> <span class="syntax-OPERATOR">&amp;</span>WriteClockHz <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 270 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 <span class="syntax-FUNCTION">DIO_StreamClose</span><span class="syntax-OPERATOR">(</span> deviceIndex1 <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 271 </span><span class="syntax-LABEL">abort</span><span class="syntax-OPERATOR">:</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 272 </span>                    <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">else</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">pid</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 273 </span>
<span class="gutter"> 274 </span>                    <span class="syntax-FUNCTION">free</span><span class="syntax-OPERATOR">(</span> frameData <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 275 </span>                <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 276 </span>                    <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Unable</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">to</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">allocate</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">buffer</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">for</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">frame</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">data\n</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 277 </span>                <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">frameData</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 278 </span>            <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span>
<span class="gutter"> 279 </span>                <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Failed</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">to</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">find</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">2</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">USB-DIO-16A</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">devices\n</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 280 </span>        <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span>
<span class="gutter"> 281 </span>            <span class="syntax-FUNCTION">printf</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">No</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ACCES</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">devices</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">found</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">on</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">USB</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">bus\n</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 282 </span>
<span class="gutter"> 283 </span>        <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 284 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">MUST</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">call</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">AIOUSB_Exit()</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">before</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">program</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">exits,</span>
<span class="gutterH"> 285 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">but</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">only</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">AIOUSB_Init()</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">succeeded</span>
<span class="gutter"> 286 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 287 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span> <span class="syntax-FUNCTION">AIOUSB_Exit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutter"> 288 </span>    <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">result</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter"> 289 </span>
<span class="gutterH"> 290 </span>    <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 291 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">pause</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">briefly</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">so</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">receiver</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">can</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">print</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">its</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">output</span>
<span class="gutter"> 292 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">before</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">command</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">line</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">prompt</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">reappears</span>
<span class="gutter"> 293 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 294 </span>    <span class="syntax-FUNCTION">sleep</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">2</span> <span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">;</span>
<span class="gutterH"> 295 </span>    <span class="syntax-KEYWORD1">return</span> <span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">int</span> <span class="syntax-OPERATOR">)</span> result<span class="syntax-OPERATOR">;</span>
<span class="gutter"> 296 </span><span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT1">//</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">main()</span>
<span class="gutter"> 297 </span>
<span class="gutter"> 298 </span>
<span class="gutter"> 299 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">end</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">file</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
</span></pre>
</body>
</html>
