<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Sample.java</title>
<style type="text/css"><!--

.syntax-NULL {
  color: #000000;
}
.syntax-COMMENT1 {
  color: #cc0000;
}
.syntax-COMMENT2 {
  color: #ff8400;
}
.syntax-COMMENT3 {
  color: #6600cc;
}
.syntax-COMMENT4 {
  color: #cc6600;
}
.syntax-DIGIT {
  color: #ff0000;
}
.syntax-FUNCTION {
  color: #0033ff;
  font-weight: bold;
}
.syntax-INVALID {
  background: #ffffcc;
  color: #ff0066;
}
.syntax-KEYWORD1 {
  color: #006699;
  font-weight: bold;
}
.syntax-KEYWORD2 {
  color: #009966;
  font-weight: bold;
}
.syntax-KEYWORD3 {
  color: #0099ff;
  font-weight: bold;
}
.syntax-KEYWORD4 {
  color: #66ccff;
  font-weight: bold;
}
.syntax-LABEL {
  color: #02b902;
}
.syntax-LITERAL1 {
  color: #ff00cc;
}
.syntax-LITERAL2 {
  color: #cc00cc;
}
.syntax-LITERAL3 {
  color: #9900cc;
}
.syntax-LITERAL4 {
  color: #6600cc;
}
.syntax-MARKUP {
  color: #0000ff;
}
.syntax-OPERATOR {
  color: #000000;
  font-weight: bold;
}

.gutter {
  background: #dbdbdb;
  color: #000000;
  border-right: 2px solid black ;
  margin-right: 5px ;
}
.gutterH {
  background: #dbdbdb;
  color: #990066;
  border-right: 2px solid black ; 
  margin-right: 5px ;
}

--></style>
</head>
<body bgcolor="#ffffff">
<pre><span class="syntax0"><span class="gutter">   1 </span><span class="syntax-COMMENT1">/*</span>
<span class="gutter">   2 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$RCSfile:</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Sample.java,v</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$</span>
<span class="gutter">   3 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$Date:</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">2009/12/25</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">18:44:28</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$</span>
<span class="gutter">   4 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$Revision:</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">1.22</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">$</span>
<span class="gutterH">   5 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">jEdit:tabSize=4:indentSize=4:collapseFolds=1:</span>
<span class="gutter">   6 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">   7 </span>
<span class="gutter">   8 </span><span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">{{{</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">build</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">instructions</span>
<span class="gutter">   9 </span><span class="syntax-COMMENT1">/*</span>
<span class="gutterH">  10 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">compile:</span>
<span class="gutter">  11 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">javac</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-cp</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">../../java/aiousb.jar</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Sample.java</span>
<span class="gutter">  12 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">run:</span>
<span class="gutter">  13 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">java</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">-cp</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">../../java/aiousb.jar:.</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Sample</span>
<span class="gutter">  14 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutterH">  15 </span><span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">}}}</span>
<span class="gutter">  16 </span>
<span class="gutter">  17 </span><span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">{{{</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">imports</span>
<span class="gutter">  18 </span><span class="syntax-KEYWORD2">import</span> com.acces.aiousb.*;
<span class="gutter">  19 </span><span class="syntax-KEYWORD2">import</span> java.io.*;
<span class="gutterH">  20 </span><span class="syntax-KEYWORD2">import</span> java.text.*;
<span class="gutter">  21 </span><span class="syntax-KEYWORD2">import</span> java.util.*;
<span class="gutter">  22 </span><span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">}}}</span>
<span class="gutter">  23 </span>
<span class="gutter">  24 </span><span class="syntax-KEYWORD3">class</span> Sample <span class="syntax-OPERATOR">{</span>
<span class="gutterH">  25 </span>    <span class="syntax-KEYWORD1">public</span> <span class="syntax-KEYWORD1">static</span> <span class="syntax-KEYWORD1">final</span> String VERSION <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">1.22,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">25</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">December</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">2009</span><span class="syntax-LITERAL1">&quot;</span>;
<span class="gutter">  26 </span>    <span class="syntax-KEYWORD1">protected</span> <span class="syntax-KEYWORD1">static</span> <span class="syntax-KEYWORD1">final</span> <span class="syntax-KEYWORD3">boolean</span> SAVE_DATA_TO_FILE <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">true</span>;
<span class="gutter">  27 </span>    <span class="syntax-KEYWORD1">protected</span> <span class="syntax-KEYWORD1">static</span> <span class="syntax-KEYWORD1">final</span> <span class="syntax-KEYWORD3">boolean</span> CHECK_FOR_ZERO_DATA <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">true</span>;
<span class="gutter">  28 </span>
<span class="gutter">  29 </span>    <span class="syntax-KEYWORD1">public</span> <span class="syntax-KEYWORD1">static</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">main</span><span class="syntax-OPERATOR">(</span> String args[] <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">  30 </span>        USBDeviceManager deviceManager <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">null</span>;
<span class="gutter">  31 </span>        <span class="syntax-KEYWORD1">try</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  32 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>     deviceManager <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">USBDeviceManager</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  33 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>     deviceManager.<span class="syntax-FUNCTION">open</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  34 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span>
<span class="gutterH">  35 </span>                  <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">USB-AI16-16A</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">sample</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">program</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">version:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> VERSION <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  36 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">AIOUSB</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Java</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">library</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">version:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> deviceManager.VERSION_NUMBER <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> deviceManager.VERSION_DATE <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  37 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">AIOUSB</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">library</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">version:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> deviceManager.<span class="syntax-FUNCTION">getAIOUSBVersion</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> deviceManager.<span class="syntax-FUNCTION">getAIOUSBVersionDate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  38 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">JRE</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">version:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> System.<span class="syntax-FUNCTION">getProperty</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">java.version</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  39 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">OS</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">version:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> System.<span class="syntax-FUNCTION">getProperty</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">os.name</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>
<span class="gutterH">  40 </span>                    <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> System.<span class="syntax-FUNCTION">getProperty</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">os.arch</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter">  41 </span>                    <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> System.<span class="syntax-FUNCTION">getProperty</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">os.version</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  42 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">This</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">program</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">demonstrates</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">controlling</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">a</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">USB-AI16-16A</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">family</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">on\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  43 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">the</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">USB</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">bus.</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">For</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">simplicity,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">it</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">uses</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">the</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">first</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">such</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">found\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  44 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">on</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">the</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">bus</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">and</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">supports</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">these</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">product</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">IDs:</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutterH">  45 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         <span class="syntax-OPERATOR">+</span> Arrays.<span class="syntax-FUNCTION">toString</span><span class="syntax-OPERATOR">(</span> USB_AI16_Family.<span class="syntax-FUNCTION">getSupportedProductNames</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter">  46 </span>            <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  47 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>     deviceManager.<span class="syntax-FUNCTION">printDevices</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  48 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>     USBDevice[] devices <span class="syntax-OPERATOR">=</span> deviceManager.<span class="syntax-FUNCTION">getDeviceByProductID</span><span class="syntax-OPERATOR">(</span> USB_AI16_Family.<span class="syntax-FUNCTION">getSupportedProductIDs</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  49 </span>            <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> devices.length <span class="syntax-OPERATOR">&gt;</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">  50 </span>                USB_AI16_Family device <span class="syntax-OPERATOR">=</span> <span class="syntax-OPERATOR">(</span> USB_AI16_Family <span class="syntax-OPERATOR">)</span> devices[ <span class="syntax-DIGIT">0</span> ];  <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">get</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">first</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">device</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">found</span>
<span class="gutter">  51 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         device.<span class="syntax-FUNCTION">reset</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">  52 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setCommTimeout</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">1000</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  53 </span>
<span class="gutter">  54 </span>                <span class="syntax-COMMENT1">/*</span>
<span class="gutterH">  55 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">demonstrate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">reading</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">EEPROM</span>
<span class="gutter">  56 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">  57 </span>                System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">EEPROM</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">contents:\n</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter">  58 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             <span class="syntax-OPERATOR">+</span> Arrays.<span class="syntax-FUNCTION">toString</span><span class="syntax-OPERATOR">(</span> device.<span class="syntax-FUNCTION">customEEPROMRead</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">0</span>, device.CUSTOM_EEPROM_SIZE <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  59 </span>
<span class="gutterH">  60 </span>                <span class="syntax-COMMENT1">/*</span>
<span class="gutter">  61 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">demonstrate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">A/D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">configuration</span>
<span class="gutter">  62 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">  63 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">  64 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setRangeAndDiffMode</span><span class="syntax-OPERATOR">(</span> AnalogInputSubsystem.RANGE_5V, <span class="syntax-LITERAL2">false</span> <span class="syntax-OPERATOR">)</span>
<span class="gutterH">  65 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setCalMode</span><span class="syntax-OPERATOR">(</span> AnalogInputSubsystem.CAL_MODE_NORMAL <span class="syntax-OPERATOR">)</span>
<span class="gutter">  66 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setTriggerMode</span><span class="syntax-OPERATOR">(</span> AnalogInputSubsystem.TRIG_MODE_SCAN <span class="syntax-OPERATOR">)</span>
<span class="gutter">  67 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setOverSample</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">50</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter">  68 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setDiscardFirstSample</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL2">true</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  69 </span>                System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">A/D</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">successfully</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">configured</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  70 </span>
<span class="gutter">  71 </span>                <span class="syntax-COMMENT1">/*</span>
<span class="gutter">  72 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">demonstrate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">A/D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">calibration</span>
<span class="gutter">  73 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">  74 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">isAutoCalPresent</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL2">false</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">  75 </span>                    System.out.<span class="syntax-FUNCTION">print</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Calibrating</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">A/D,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">may</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">take</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">a</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">few</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">seconds</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">...</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  76 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">calibrate</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL2">true</span>, <span class="syntax-LITERAL2">false</span>, <span class="syntax-LITERAL2">null</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  77 </span>                    System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">successful</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  78 </span>                <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">if(</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">device.adc()</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">...</span>
<span class="gutter">  79 </span>
<span class="gutterH">  80 </span>                <span class="syntax-COMMENT1">/*</span>
<span class="gutter">  81 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">demonstrate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">reading</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">A/D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">inputs</span>
<span class="gutter">  82 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">  83 </span>                <span class="syntax-KEYWORD3">int</span> startChannel <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>
<span class="gutter">  84 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             , numChannels <span class="syntax-OPERATOR">=</span> device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">getNumMUXChannels</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  85 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         <span class="syntax-KEYWORD3">char</span>[] counts <span class="syntax-OPERATOR">=</span> device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">readCounts</span><span class="syntax-OPERATOR">(</span> startChannel, numChannels <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  86 </span>                System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Read</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">from</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">channel</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> startChannel
<span class="gutter">  87 </span>                    <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">to</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">channel</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-OPERATOR">(</span> startChannel <span class="syntax-OPERATOR">+</span> numChannels <span class="syntax-OPERATOR">-</span> <span class="syntax-DIGIT">1</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter">  88 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">using</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">getOverSample</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">oversamples:</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  89 </span>                DecimalFormat voltageFormat <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">DecimalFormat</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">0.0000000</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  90 </span>                <span class="syntax-KEYWORD1">for</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">int</span> index <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>; index <span class="syntax-OPERATOR">&lt;</span> counts.length; index<span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">+</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter">  91 </span>                    System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Channel</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-OPERATOR">(</span> startChannel <span class="syntax-OPERATOR">+</span> index <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">=</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">int</span> <span class="syntax-OPERATOR">)</span> counts[ index ]
<span class="gutter">  92 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>                 <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">(</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> voltageFormat.<span class="syntax-FUNCTION">format</span><span class="syntax-OPERATOR">(</span> device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">countsToVolts</span><span class="syntax-OPERATOR">(</span> startChannel <span class="syntax-OPERATOR">+</span> index, counts[ index ] <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">volts)</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  93 </span>
<span class="gutter">  94 </span>                <span class="syntax-COMMENT1">/*</span>
<span class="gutterH">  95 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">demonstrate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">reading</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">A/D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">data</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">set</span>
<span class="gutter">  96 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">  97 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         AI16_DataSet dataSet <span class="syntax-OPERATOR">=</span> device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">read</span><span class="syntax-OPERATOR">(</span> startChannel, numChannels <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  98 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         dataSet.<span class="syntax-FUNCTION">print</span><span class="syntax-OPERATOR">(</span> System.out <span class="syntax-OPERATOR">)</span>;
<span class="gutter">  99 </span>
<span class="gutterH"> 100 </span>                <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 101 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">demonstrate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">bulk</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">A/D</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">reads</span>
<span class="gutter"> 102 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 103 </span>                BufferedOutputStream output <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">null</span>;
<span class="gutter"> 104 </span>                <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> SAVE_DATA_TO_FILE <span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 105 </span>                    output <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">BufferedOutputStream</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">FileOutputStream</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">File</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">bulkdata</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 106 </span>                <span class="syntax-KEYWORD3">int</span> numSamples <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">1000000</span>
<span class="gutter"> 107 </span>                    , samplesReceived <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>;
<span class="gutter"> 108 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 109 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setStreamingBlockSize</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">100000</span> <span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 110 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setCalMode</span><span class="syntax-OPERATOR">(</span> AnalogInputSubsystem.CAL_MODE_NORMAL <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 111 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setTriggerMode</span><span class="syntax-OPERATOR">(</span> AnalogInputSubsystem.TRIG_MODE_SCAN <span class="syntax-OPERATOR">|</span> AnalogInputSubsystem.TRIG_MODE_TIMER <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 112 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">setClock</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">1000000</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 113 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             .<span class="syntax-FUNCTION">readBulkStart</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">1</span>, <span class="syntax-DIGIT">1</span>, numSamples <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 114 </span>                <span class="syntax-KEYWORD1">do</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 115 </span>                    Thread.<span class="syntax-FUNCTION">sleep</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">100</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 116 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>             <span class="syntax-KEYWORD3">char</span>[] data <span class="syntax-OPERATOR">=</span> device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">readBulkNext</span><span class="syntax-OPERATOR">(</span> <span class="syntax-DIGIT">4000</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 117 </span>                    <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> data.length <span class="syntax-OPERATOR">&gt;</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 118 </span>                        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> SAVE_DATA_TO_FILE <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 119 </span>                            <span class="syntax-KEYWORD1">for</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">int</span> index <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>; index <span class="syntax-OPERATOR">&lt;</span> data.length; index<span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">+</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 120 </span>                                output.<span class="syntax-FUNCTION">write</span><span class="syntax-OPERATOR">(</span> data[ index ] <span class="syntax-OPERATOR">&amp;</span> <span class="syntax-DIGIT">0xff</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 121 </span>                                output.<span class="syntax-FUNCTION">write</span><span class="syntax-OPERATOR">(</span> <span class="syntax-OPERATOR">(</span> data[ index ] <span class="syntax-OPERATOR">&gt;</span><span class="syntax-OPERATOR">&gt;</span> <span class="syntax-DIGIT">8</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">&amp;</span> <span class="syntax-DIGIT">0xff</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 122 </span>                            <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">for(</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">int</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">index</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">...</span>
<span class="gutter"> 123 </span>                        <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">if(</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">SAVE_DATA_TO_FILE</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">)</span>
<span class="gutter"> 124 </span>
<span class="gutterH"> 125 </span>                        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> CHECK_FOR_ZERO_DATA <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 126 </span>                            <span class="syntax-COMMENT1">/*</span>
<span class="gutter"> 127 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">on</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">bipolar</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">ranges,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">with</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">nothing</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">connected</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">inputs,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span>
<span class="gutter"> 128 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">count</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">values</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">should</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">be</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">around</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">half</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">full</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">scale,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">far</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">from</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">zero;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">if</span>
<span class="gutter"> 129 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">any</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">count</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">values</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">are</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">zero,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">it</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">likely</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">indicates</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">some</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">sort</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">serious</span>
<span class="gutterH"> 130 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">hardware,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">firmware</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">or</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">software</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">problem;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">print</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">one</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">warning</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">per</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">block</span>
<span class="gutter"> 131 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">avoid</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">flooding</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">screen</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">with</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">messages</span>
<span class="gutter"> 132 </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1">    </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter"> 133 </span>                            <span class="syntax-KEYWORD1">for</span><span class="syntax-OPERATOR">(</span> <span class="syntax-KEYWORD3">int</span> index <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>; index <span class="syntax-OPERATOR">&lt;</span> data.length; index<span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">+</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 134 </span>                                <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> data[ index ] <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 135 </span>                                    System.err.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Warning:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">zero</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">data</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">at</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">index</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-OPERATOR">(</span> samplesReceived <span class="syntax-OPERATOR">+</span> index <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 136 </span>                                    <span class="syntax-KEYWORD1">break</span>;      <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">from</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">for();</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">only</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">one</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">warning</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">per</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">block</span>
<span class="gutter"> 137 </span>                                <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">if(</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">data[</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">...</span>
<span class="gutter"> 138 </span>                            <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">for(</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">int</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">index</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">...</span>
<span class="gutter"> 139 </span>                        <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">if(</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">CHECK_FOR_ZERO_DATA</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">)</span>
<span class="gutterH"> 140 </span>
<span class="gutter"> 141 </span>                        samplesReceived <span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">=</span> data.length;
<span class="gutter"> 142 </span>                        numSamples <span class="syntax-OPERATOR">-</span><span class="syntax-OPERATOR">=</span> data.length;
<span class="gutter"> 143 </span>                        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Bulk</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">read</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> samplesReceived <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">samples,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> numSamples <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">remaining</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 144 </span>                        <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> numSamples <span class="syntax-OPERATOR">&lt;=</span> <span class="syntax-DIGIT">0</span> <span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 145 </span>                            <span class="syntax-KEYWORD1">break</span>;              <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">from</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">do()</span>
<span class="gutter"> 146 </span>                    <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">if(</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">data.length</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">...</span>
<span class="gutter"> 147 </span>                <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">while</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL2">true</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 148 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         device.<span class="syntax-FUNCTION">adc</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">setTriggerMode</span><span class="syntax-OPERATOR">(</span> AnalogInputSubsystem.TRIG_MODE_SCAN <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 149 </span>                <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span> SAVE_DATA_TO_FILE <span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 150 </span>                    output.<span class="syntax-FUNCTION">close</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 151 </span>            <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span>
<span class="gutter"> 152 </span>                System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">No</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">USB-AI16-16A</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">devices</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">found</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">on</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">USB</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">bus</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 153 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>     deviceManager.<span class="syntax-FUNCTION">close</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 154 </span>        <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">catch</span><span class="syntax-OPERATOR">(</span> Exception ex <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 155 </span>            System.err.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Error</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">\'</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> ex.<span class="syntax-FUNCTION">toString</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">\'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">occurred</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">while</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">manipulating</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">device</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 156 </span>            <span class="syntax-KEYWORD1">if</span><span class="syntax-OPERATOR">(</span>
<span class="gutter"> 157 </span>                deviceManager <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">null</span>
<span class="gutter"> 158 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         <span class="syntax-OPERATOR">&amp;</span><span class="syntax-OPERATOR">&amp;</span> deviceManager.<span class="syntax-FUNCTION">isOpen</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 159 </span>            <span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 160 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1">API</span><span class="syntax-COMMENT1">*/</span>         deviceManager.<span class="syntax-FUNCTION">close</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 161 </span>        <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">catch(</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">...</span>
<span class="gutter"> 162 </span>    <span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">main()</span>
<span class="gutter"> 163 </span><span class="syntax-OPERATOR">}</span>   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">class</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Sample</span>
<span class="gutter"> 164 </span>
<span class="gutterH"> 165 </span><span class="syntax-COMMENT1">/*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">end</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">file</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
</span></pre>
</body>
</html>
